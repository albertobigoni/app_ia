<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>AI Compass â€“ BitAgorÃ  Orobica</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f8f9fa;
      padding: 2em;
      transition: background 0.3s, color 0.3s;
    }
    body.dark {
      background: #121212;
      color: #f1f1f1;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2em;
    }
    h1 {
      font-size: 2em;
      margin: 0;
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 1em;
      margin-bottom: 2em;
    }
    .controls input, .controls select, .controls button {
      font-size: 1em;
      padding: 0.5em;
    }
    .entry {
      background: white;
      border-radius: 10px;
      padding: 1em;
      margin-bottom: 1.5em;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    body.dark .entry {
      background: #2c2c2c;
    }
    .entry .title {
      font-size: 1.2em;
      font-weight: bold;
      color: #007acc;
      text-decoration: none;
    }
    .entry .meta {
      font-size: 0.85em;
      color: #666;
      margin-top: 0.5em;
    }
    .entry .badge {
      margin-right: 0.5em;
      font-size: 1.2em;
    }
  </style>
</head>
<body>
  <header>
    <h1>AI Compass</h1>
    <img src="logo.png" alt="Logo" width="150">
  </header>
  <p><em>Selezione offerta da <a href="https://www.bitagoraorobica.it" target="_blank">BitAgorÃ  Orobica</a></em></p>

  <div class="controls">
    <input type="text" id="search" placeholder="Cerca per titolo o descrizione...">
    <select id="category">
      <option value="">Tutte le categorie</option>
      <option value="News">News</option>
      <option value="Paper">Paper</option>
    </select>
    <select id="source">
      <option value="">Tutte le fonti</option>
      <option value="BitAgorÃ  Orobica srl">BitAgorÃ  Orobica srl</option>
      <option value="DeepLearning.AI">DeepLearning.AI</option>
    </select>
    <select id="days">
      <option value="">Qualsiasi data</option>
      <option value="7">Ultimi 7 giorni</option>
      <option value="15">Ultimi 15 giorni</option>
      <option value="30">Ultimi 30 giorni</option>
    </select>
    <button id="toggleDark">ðŸŒ— ModalitÃ  scura</button>
  </div>

  <div id="entries"></div>

  <script>
    const entryData = [{"date":"2025-07-31","title":"Prompt Engineering Masterclass","description":"Free course on advanced prompting","category":"Course","link":"https://deeplearning.ai/prompt-master","source":"DeepLearning.AI","badge":""},{"date":"2025-07-30","title":"Newsletter BitAgora","description":"Selezione articoli IA","category":"Tool","link":"https://newsletter.bitagoraorobica.it/tag/ia/","source":"BitAgorÃ  Orobica srl","badge":""}];

    const searchInput = document.getElementById('search');
    const categoryFilter = document.getElementById('category');
    const sourceFilter = document.getElementById('source');
    const daysFilter = document.getElementById('days');
    const toggleDark = document.getElementById('toggleDark');
    const entriesDiv = document.getElementById('entries');

    function createEntry(item) {
      const div = document.createElement('div');
      div.className = 'entry';
      div.dataset.text = (item.title + ' ' + item.description).toLowerCase();
      div.dataset.category = item.category;
      div.dataset.source = item.source;
      div.dataset.date = item.date;
      div.innerHTML = `
        <a href="${item.link}" class="title" target="_blank">
          <span class="badge">${item.badge}</span>${item.title}
        </a>
        <p>${item.description}</p>
        <div class="meta">${item.source} â€“ ${item.date} â€“ ${item.category}</div>
      `;
      return div;
    }

    function render() {
      const q = searchInput.value.toLowerCase();
      const cat = categoryFilter.value;
      const src = sourceFilter.value;
      const days = parseInt(daysFilter.value);
      const now = new Date();

      entriesDiv.innerHTML = "";
      entryData.forEach(item => {
        const entryDate = new Date(item.date);
        const diffDays = (now - entryDate) / (1000 * 60 * 60 * 24);
        if (
          (!q || (item.title + item.description).toLowerCase().includes(q)) &&
          (!cat || item.category === cat) &&
          (!src || item.source === src) &&
          (isNaN(days) || diffDays <= days)
        ) {
          entriesDiv.appendChild(createEntry(item));
        }
      });
    }

    searchInput.addEventListener("input", render);
    categoryFilter.addEventListener("change", render);
    sourceFilter.addEventListener("change", render);
    daysFilter.addEventListener("change", render);
    toggleDark.addEventListener("click", () => document.body.classList.toggle("dark"));

    render();
  </script>
</body>
</html>
